{% extends 'base.html' %}
{% load static %}

{% block title %}À propos - {% if site_settings %}{{ site_settings.site_name }}{% else %}Plateforme de Recrutement{% endif %}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0 text-center text-lg-start">
                <h1 class="display-4 fw-bold mb-4">
                    {% if site_settings and site_settings.about_title %}
                        {{ site_settings.about_title }}
                    {% else %}
                        À propos de nous
                    {% endif %}
                </h1>
                <p class="lead">
                    {% if site_settings and site_settings.about_content %}
                        {{ site_settings.about_content|truncatewords:30 }}
                    {% else %}
                        Nous connectons les talents aux opportunités, en révolutionnant le processus de recrutement grâce à la technologie.
                    {% endif %}
                </p>
            </div>
            <div class="col-lg-6 text-center d-none d-lg-block">
                {% if site_settings and site_settings.hero_image %}
                    <img src="{{ site_settings.hero_image.url }}" 
                         alt="Notre équipe" class="img-fluid rounded shadow">
                {% else %}
                    <img src="https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=600" 
                         alt="Notre équipe" class="img-fluid rounded shadow">
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Mission Section -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="fw-bold mb-4">Notre Mission</h2>
                <p class="lead text-muted mb-5">
                    {% if site_settings and site_settings.about_mission %}
                        {{ site_settings.about_mission }}
                    {% else %}
                        Simplifier et optimiser le processus de recrutement en offrant une plateforme 
                        intuitive qui met en relation les meilleurs talents avec les entreprises 
                        qui partagent leurs valeurs et ambitions.
                    {% endif %}
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body p-4">
                        <i class="fas fa-users fa-3x text-primary mb-3"></i>
                        <h5 class="fw-bold">Pour les Candidats</h5>
                        <p class="text-muted">
                            Nous aidons les professionnels à trouver des opportunités 
                            qui correspondent à leurs compétences et aspirations.
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body p-4">
                        <i class="fas fa-building fa-3x text-success mb-3"></i>
                        <h5 class="fw-bold">Pour les Entreprises</h5>
                        <p class="text-muted">
                            Nous permettons aux entreprises de trouver les talents 
                            qui feront la différence dans leur croissance.
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card h-100 text-center border-0 shadow-sm">
                    <div class="card-body p-4">
                        <i class="fas fa-handshake fa-3x text-info mb-3"></i>
                        <h5 class="fw-bold">Ensemble</h5>
                        <p class="text-muted">
                            Nous créons des connexions durables qui bénéficient 
                            à tous les acteurs du marché de l'emploi.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
{% if statistics %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center">
            <div class="col-12 mb-5">
                <h2 class="fw-bold">Nos Résultats</h2>
                <p class="text-muted">Des chiffres qui parlent de notre impact</p>
            </div>
        </div>
        
        <div class="row">
            {% for stat in statistics %}
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="text-center">
                    <div class="bg-primary text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" 
                         style="width: 80px; height: 80px;">
                        <i class="{{ stat.icon }} fa-2x"></i>
                    </div>
                    <h3 class="fw-bold text-primary">{{ stat.value }}</h3>
                    <p class="text-muted">{{ stat.title }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Values Section -->
{% if values %}
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="fw-bold">Nos Valeurs</h2>
                <p class="text-muted">Les principes qui guident notre action au quotidien</p>
            </div>
        </div>
        
        <div class="row">
            {% for value in values %}
            <div class="col-lg-6 mb-4">
                <div class="d-flex">
                    <div class="flex-shrink-0 me-4">
                        <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" 
                             style="width: 60px; height: 60px;">
                            <i class="{{ value.icon }}"></i>
                        </div>
                    </div>
                    <div>
                        <h5 class="fw-bold">{{ value.title }}</h5>
                        <p class="text-muted">{{ value.description }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Team Section -->
{% if team_members %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="fw-bold">Notre Équipe</h2>
                <p class="text-muted">Des experts passionnés au service de votre réussite</p>
            </div>
        </div>
        
        <div class="row">
            {% for member in team_members %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body text-center p-4">
                        {% if member.photo %}
                        <img src="{{ member.photo.url }}" 
                             alt="{{ member.user.get_full_name }}" class="rounded-circle mb-3" style="width: 100px; height: 100px; object-fit: cover;">
                        {% else %}
                        <div class="rounded-circle mb-3 mx-auto d-flex align-items-center justify-content-center bg-secondary text-white" 
                             style="width: 100px; height: 100px;">
                            <i class="fas fa-user fa-2x"></i>
                        </div>
                        {% endif %}
                        <h5 class="fw-bold">{{ member.user.get_full_name }}</h5>
                        <p class="text-primary mb-2">{{ member.get_role_display }}</p>
                        <p class="text-muted small">{{ member.bio|truncatewords:20 }}</p>
                        {% if member.linkedin_url or member.twitter_url %}
                        <div class="mt-3">
                            {% if member.linkedin_url %}
                            <a href="{{ member.linkedin_url }}" target="_blank" class="text-decoration-none me-2">
                                <i class="fab fa-linkedin fa-lg text-muted"></i>
                            </a>
                            {% endif %}
                            {% if member.twitter_url %}
                            <a href="{{ member.twitter_url }}" target="_blank" class="text-decoration-none">
                                <i class="fab fa-twitter fa-lg text-muted"></i>
                            </a>
                            {% endif %}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Company Info Section -->
{% if site_settings %}
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-5">
                        <h3 class="fw-bold text-center mb-4">Informations de l'Entreprise</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="fw-bold text-primary">Coordonnées</h5>
                                <p class="mb-3">
                                    <i class="fas fa-building me-2 text-muted"></i>
                                    <strong>{{ site_settings.site_name }}</strong>
                                </p>
                                {% if site_settings.address %}
                                <p class="mb-3">
                                    <i class="fas fa-map-marker-alt me-2 text-muted"></i>
                                    {{ site_settings.address|linebreaksbr }}
                                </p>
                                {% endif %}
                                {% if site_settings.contact_phone %}
                                <p class="mb-3">
                                    <i class="fas fa-phone me-2 text-muted"></i>
                                    {{ site_settings.contact_phone }}
                                </p>
                                {% endif %}
                                {% if site_settings.contact_email %}
                                <p class="mb-3">
                                    <i class="fas fa-envelope me-2 text-muted"></i>
                                    {{ site_settings.contact_email }}
                                </p>
                                {% endif %}
                            </div>
                            <div class="col-md-6">
                                <h5 class="fw-bold text-primary">Informations légales</h5>
                                <!-- Ces champs seront disponibles après les migrations -->
                                {% if site_settings.siret %}
                                <p class="mb-2">
                                    <small class="text-muted">SIRET:</small><br>
                                    {{ site_settings.siret }}
                                </p>
                                {% endif %}
                                {% if site_settings.rcs %}
                                <p class="mb-2">
                                    <small class="text-muted">RCS:</small><br>
                                    {{ site_settings.rcs }}
                                </p>
                                {% endif %}
                                {% if site_settings.vat_number %}
                                <p class="mb-2">
                                    <small class="text-muted">N° TVA:</small><br>
                                    {{ site_settings.vat_number }}
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h2 class="fw-bold mb-3">Rejoignez notre communauté</h2>
                <p class="lead mb-4">
                    Que vous soyez candidat ou recruteur, découvrez comment notre plateforme 
                    peut transformer votre approche du recrutement.
                </p>
                <div class="d-flex justify-content-center gap-3">
                    <a href="{% url 'accounts:register' %}" class="btn btn-light btn-lg">
                        <i class="fas fa-user-plus me-2"></i>Créer un compte
                    </a>
                    <a href="{% url 'core:contact' %}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-envelope me-2"></i>Nous contacter
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

